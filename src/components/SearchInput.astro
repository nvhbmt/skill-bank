---
interface Props {
    placeholder?: string;
    name?: string;
    showIcon?: boolean;
    class?: string;
}

const {
    placeholder = 'Search',
    name = 'search',
    showIcon = false,
    class: className = '',
} = Astro.props;
---

<div class={`search-input ${className}`}>
    <input type="text" name={name} placeholder={placeholder} />
    {
        showIcon && (
            <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                <path
                    d="M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16zm0-2a6 6 0 1 1 0-12 6 6 0 0 1 0 12z"
                    fill="currentColor"
                />
                <path
                    d="M19.707 18.293l-4-4a1 1 0 0 0-1.414 1.414l4 4a1 1 0 0 0 1.414-1.414z"
                    fill="currentColor"
                />
            </svg>
        )
    }
</div>

<style scoped>
    .search-input {
        position: relative;

        input {
            width: 100%;
            height: 60px;
            padding: 16px 16px 16px 24px;
            border-radius: 40px;
            background-color: var(--color-surface);
            border: 2px solid transparent;
            outline: none;
            font-size: 2.4rem;
            color: var(--color-text);
            transition: all 0.3s ease;
        }

        input:focus {
            background-color: var(--color-primary-light);
            border-color: var(--color-primary);
        }

        svg {
            position: absolute;
            right: 24px;
            top: 50%;
            transform: translateY(-50%);
            width: 24px;
            height: 24px;
            color: var(--color-text-muted);
            pointer-events: none;
        }
    }
</style>
